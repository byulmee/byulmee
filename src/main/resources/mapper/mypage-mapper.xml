<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mypageMapper">
	<select id="selectOne" resultMap="memberResultSet">
		select *
		from member
		where mem_id=#{memId}
			and mem_status='Y'
	</select>
	
	<resultMap type="Member" id="memberResultSet">
		<id property="memNo" column="MEM_NO"/>
		<result property="memId" column="MEM_ID"/>
		<result property="memPwd" column="MEM_PWD"/>
		<result property="memName" column="MEM_NAME"/>
		<result property="memPostcode" column="MEM_POSTCODE"/>
		<result property="memBasicAddr" column="MEM_BASICADDR"/>
		<result property="memDetailAddr" column="MEM_DETAILADDR"/>
		<result property="memPhone" column="MEM_PHONE"/>
		<result property="memNickname" column="MEM_NICKNAME"/>
		<result property="memEmail" column="MEM_EMAIL"/>
		<result property="memLevel" column="MEM_LEVEL"/>
		<result property="memDate" column="MEM_DATE"/>
		<result property="memStatus" column="MEM_STATUS"/>
	</resultMap>
	
	<update id="updateMyInfo">
		update member
		set mem_name=#{memName}, mem_nickname=#{memNickname}, mem_email=#{memEmail}, mem_phone=#{memPhone},
			mem_postcode=#{memPostcode}, mem_basicaddr=#{memBasicAddr}, mem_detailaddr=#{memDetailAddr}
		where mem_id=#{memId}
	</update>

	<update id="updateMyPwd">
		update member
		set mem_pwd=#{newPwd}
		where mem_id=#{memId}
	</update>
	
	<update id="deleteMember">
		update member
		set mem_status='N'
		where mem_id=#{memId}
	</update>
</mapper>
